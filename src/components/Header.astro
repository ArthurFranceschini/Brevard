<!-- Header Responsivo -->
<header class="fixed w-full bg-primary-500 dark:bg-primary-50 backdrop-blur-xs z-50 py-2 sm:py-3 md:py-4 transition-colors duration-300">
  <div class="container-custom flex items-center justify-between px-4 sm:px-6">
    
    <!-- Logo Responsivo -->
    <a href="/" class="flex items-center" aria-label="Go to homepage">
  <img id="logo-light"
       src="/src/assets/logo-light.svg" 
       alt="Brevard Logo" 
       class="h-5 w-auto sm:h-6 md:h-7 lg:h-8 xl:h-9 transition-transform duration-300 hover:scale-105"
       width="228" 
       height="48">
  <img id="logo-dark"
       src="/src/assets/logo-dark.svg" 
       alt="Brevard Logo" 
       class="h-5 w-auto sm:h-6 md:h-7 lg:h-8 xl:h-9 transition-transform duration-300 hover:scale-105"
       width="228"
       height="48">
</a>
    
    <!-- Navegação Desktop -->
    <nav class="hidden md:flex items-center space-x-6 lg:space-x-8">
      <a href="/" class="btn-header transition-all duration-200 hover:accent-50">Início</a>
      <a href="/Sobre-nos" class="btn-header transition-all duration-200 hhover:accent-50">Sobre nós</a>
      <a href="/Portifólio" class="btn-header transition-all duration-200 hover:accent-50">Portfólio</a>
      <a href="/Serviços" class="btn-header transition-all duration-200 hover:accent-50">Serviços</a>
    </nav>
    
    <!-- Controles do Header -->
    <div class="flex items-center space-x-2 sm:space-x-3">
      
      <!-- Toggle Dark Mode -->
      <button 
        x-on:click="darkMode = !darkMode" 
        class="p-2 rounded-md text-primary-50 hover:text-primary-200 dark:text-primary-500 dark:hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 transition-all duration-200"
        aria-label="Toggle dark mode"
      >
        <svg x-show="!darkMode" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
        </svg>
        <svg x-show="darkMode" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
      </button>
      
      <!-- CTA Button - Sempre visível -->
      <a href="https://wa.me/5545991488787?text=Ol%C3%A1%2C%20gostaria%20de%20aux%C3%ADlio%20para%20minha%20marca." class="btn-primary text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2 lg:px-6 lg:py-2 transition-all duration-200 hover:scale-105">
        Contate-nos
      </a>
      
      <!-- Menu Mobile -->
      <div x-data="{ open: false }" class="relative md:hidden">
        <button 
          @click="open = !open"
          class="p-2 rounded-md text-primary-50 hover:text-primary-200 dark:text-primary-500 dark:hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 transition-all duration-200"
          aria-label="Toggle menu"
          :aria-expanded="open"
        >
          <svg x-show="!open" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg x-show="open" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        
        <!-- Menu Dropdown -->
        <div 
          x-show="open" 
          @click.away="open = false"
          x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 scale-95 -translate-y-2"
          x-transition:enter-end="opacity-100 scale-100 translate-y-0"
          x-transition:leave="transition ease-in duration-150"
          x-transition:leave-start="opacity-100 scale-100 translate-y-0"
          x-transition:leave-end="opacity-0 scale-95 -translate-y-2"
          class="absolute right-0 top-full mt-2 w-48 py-2 bg-white dark:bg-secondary-900 rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 border border-gray-200 dark:border-gray-700 z-50"
          x-cloak
        >
          <a href="/" 
             @click="open = false"
             class="block px-4 py-3 text-sm font-medium text-primary-50 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Início
          </a>
          <a href="/Serviços" 
             @click="open = false"
             class="block px-4 py-3 text-sm font-medium text-primary-50 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Serviços
          </a>
          <a href="/Sobre-nos" 
             @click="open = false"
             class="block px-4 py-3 text-sm font-medium text-primary-50 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Sobre nós
          </a>
          <a href="/Portifólio" 
             @click="open = false"
             class="block px-4 py-3 text-sm font-medium text-primary-50 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Portfólio
          </a>
        </div>
      </div>
      
    </div>
  </div>
</header>

<style>
  /* Melhorias para responsividade */
  @media (max-width: 640px) {
    .container-custom {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    
    header {
      min-height: 60px;
    }
    
    /* Ajustar espaçamento em telas muito pequenas */
    .flex.items-center.space-x-2 {
      gap: 0.25rem;
    }
  }
  
  @media (min-width: 641px) and (max-width: 768px) {
    .container-custom {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }
  
  /* Animações suaves */
  .btn-header {
    position: relative;
    overflow: hidden;
  }
  
  .btn-header::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background-color: currentColor;
    transition: all 0.3s ease;
    transform: translateX(-50%);
  }
  
  .btn-header:hover::before {
    width: 100%;
  }
  
  /* Melhor hover para dispositivos touch */
  @media (hover: hover) {
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
  }
  
  /* Garantir que o logo não quebre */
  header a svg {
    max-width: 100%;
    height: auto;
  }
  
  /* Smooth scrolling para links âncora */
  html {
    scroll-behavior: smooth;
  }
  
  /* Hide Alpine.js elements before Alpine loads */
  [x-cloak] { 
    display: none !important; 
  }
  
  /* Remove tap highlight em dispositivos móveis */
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Focus states para acessibilidade */
  button:focus,
  a:focus {
    outline: 2px solid #0477BF;
    outline-offset: 2px;
  }
  
  /* Garantir que elementos não se sobreponham em mobile */
  @media (max-width: 375px) {
    .btn-primary {
      font-size: 0.75rem;
      padding: 0.375rem 0.75rem;
    }
    
    .absolute.right-0 {
      right: -0.5rem;
      width: calc(100vw - 3rem);
      max-width: 200px;
    }
  }
  
  /* Melhor alinhamento dos elementos */
  .flex.items-center.space-x-2 > * {
    flex-shrink: 0;
  }
</style>